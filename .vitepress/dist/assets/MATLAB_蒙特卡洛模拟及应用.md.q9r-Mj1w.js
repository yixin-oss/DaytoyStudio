import{_ as l,o as a,c as p,k as s,a as e,R as n}from"./chunks/framework.bQUviISV.js";const J=JSON.parse('{"title":"蒙特卡洛模拟及应用","description":"","frontmatter":{},"headers":[],"relativePath":"MATLAB/蒙特卡洛模拟及应用.md","filePath":"MATLAB/蒙特卡洛模拟及应用.md","lastUpdated":null}'),i={name:"MATLAB/蒙特卡洛模拟及应用.md"},r=n(`<h1 id="蒙特卡洛模拟及应用" tabindex="-1">蒙特卡洛模拟及应用 <a class="header-anchor" href="#蒙特卡洛模拟及应用" aria-label="Permalink to &quot;蒙特卡洛模拟及应用&quot;">​</a></h1><p>蒙特卡洛模拟也称蒙特卡洛方法、统计模拟方法、随机模拟方法，是一种基于概率统计原理解决问题的方法.</p><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>由著名的数学家和计算机科学家冯·诺依曼提出.</p><h3 id="原理与步骤" tabindex="-1">原理与步骤 <a class="header-anchor" href="#原理与步骤" aria-label="Permalink to &quot;原理与步骤&quot;">​</a></h3><ul><li>问题分析，建立概率统计模型，问题解与模型某个变量或参数对应.</li><li>模拟仿真试验，根据模型生成一定数量的变量的随机数.</li><li>试验结果统计与分析，求出问题最终解.</li></ul><h3 id="特点" tabindex="-1">特点 <a class="header-anchor" href="#特点" aria-label="Permalink to &quot;特点&quot;">​</a></h3><p>针对复杂程度高，难以建立准确模型的问题，或模型复杂不易求解的问题.</p><p>问题的解能与某个事件的概率或与概率相关的变量相关联.</p><h3 id="预备知识-随机数" tabindex="-1">预备知识：随机数 <a class="header-anchor" href="#预备知识-随机数" aria-label="Permalink to &quot;预备知识：随机数&quot;">​</a></h3><h4 id="_1-rand指令-生成-0-1-之间均匀分布随机数" tabindex="-1">（1）rand指令：生成(0,1)之间均匀分布随机数. <a class="header-anchor" href="#_1-rand指令-生成-0-1-之间均匀分布随机数" aria-label="Permalink to &quot;（1）rand指令：生成(0,1)之间均匀分布随机数.&quot;">​</a></h4><p><strong>rand(n)</strong> n*n随机数矩阵.</p><p><strong>rand(m,n)</strong> m*n随机数矩阵.</p><p><strong>rand(m,n,&#39;p&#39;)</strong> 指定精度随机数矩阵，p可选double或single.</p><p><strong>rand(size(A))</strong> 与A规模相同随机数矩阵.</p><p><strong>hist(y)</strong> 绘制频数分布直方图</p><h4 id="_2-randn指令-生成标准正态分布随机数-均值0-标准差1" tabindex="-1">（2）randn指令：生成标准正态分布随机数，均值0，标准差1. <a class="header-anchor" href="#_2-randn指令-生成标准正态分布随机数-均值0-标准差1" aria-label="Permalink to &quot;（2）randn指令：生成标准正态分布随机数，均值0，标准差1.&quot;">​</a></h4><h4 id="_3-randi指令-生成均匀分布的整随机数" tabindex="-1">（3）randi指令：生成均匀分布的整随机数. <a class="header-anchor" href="#_3-randi指令-生成均匀分布的整随机数" aria-label="Permalink to &quot;（3）randi指令：生成均匀分布的整随机数.&quot;">​</a></h4><p><strong>randi(imax,n)</strong> 生成在[1:imax]之间均匀分布的n*n整数随机数矩阵.</p><p><strong>randi([imin,imax],m,n)</strong> 生成[imin,imax]间m*n矩阵.</p><h4 id="_4-mnrnd-生成多元分布随机数" tabindex="-1">（4）mnrnd：生成多元分布随机数. <a class="header-anchor" href="#_4-mnrnd-生成多元分布随机数" aria-label="Permalink to &quot;（4）mnrnd：生成多元分布随机数.&quot;">​</a></h4><p><strong>r=mnrnd(n,p)</strong> 生成随机向量r. n表示向量中元素之和，p是1*K向量，将所有元素划分为K组，p中的元素表示每组的比例，p的元素之和必须等于1. r是一个1&amp;k的向量，给出每组中元素的个数.</p><p><strong>r=mnrnd(n,p,m)</strong> 生成m个随机向量，r是m*K矩阵，每行对应一个多元分布随机数向量.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt;&gt;n=10;</span></span>
<span class="line"><span>&gt;&gt; p=[0.4 0.2 0.4];</span></span>
<span class="line"><span>&gt;&gt; r1=mnrnd(n,p)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>r1 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     3     1     6</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt;&gt; r1=mnrnd(n,p,6)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>r1 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     6     3     1</span></span>
<span class="line"><span>     5     2     3</span></span>
<span class="line"><span>     6     3     1</span></span>
<span class="line"><span>     4     0     6</span></span>
<span class="line"><span>     6     1     3</span></span>
<span class="line"><span>     2     3     5</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt;&gt; hist3(r1(:,1:2),[10,10])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/hist.jpg" alt="hist"></p><h4 id="_5-mvnrnd-多元正态分布随机数" tabindex="-1">（5）mvnrnd：多元正态分布随机数 <a class="header-anchor" href="#_5-mvnrnd-多元正态分布随机数" aria-label="Permalink to &quot;（5）mvnrnd：多元正态分布随机数&quot;">​</a></h4><p><strong>r=mvnrnd(mu,sigma)</strong> 返回向量r，mu是d维均值向量，sigma是协方差矩阵.</p><p><strong>r=mvnrnd(mu,sigma,n)</strong> 返回n*d矩阵r.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt;&gt; mu=[5 25];</span></span>
<span class="line"><span>&gt;&gt; sigma=[1 4;4 25];</span></span>
<span class="line"><span>&gt;&gt; a0=mvnrnd(mu,sigma)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>a0 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    4.4804   22.0201</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt;&gt;a=mvnrnd(mu,sigma,1000);</span></span>
<span class="line"><span>&gt;&gt; hist3(a,[10,10])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/mvnrndhist.jpg" alt="mvnrndhist"></p><h4 id="_6-随机数的操作" tabindex="-1">（6）随机数的操作 <a class="header-anchor" href="#_6-随机数的操作" aria-label="Permalink to &quot;（6）随机数的操作&quot;">​</a></h4><p><strong>改变随机数的范围：产生[a,b]间随机数</strong></p><p>*<em>r=a+(b-a).<em>rand(1,n)</em></em></p><p><strong>改变正态分布随机数的均值和标准差</strong></p><p>*<em>r=m+s.<em>randn(1,n)</em></em> 均值改为m，标准差n</p><p><strong>重置随机数发生器产生相同随机数</strong> :人为控制产生的随机数</p><p><strong>rng(&#39;default&#39;)</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt;&gt;  rng(&#39;default&#39;)</span></span>
<span class="line"><span>rand(1,8)%两条一起运行三次</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ans =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.8147    0.9058    0.1270    0.9134    0.6324    0.0975    0.2785    0.5469</span></span>
<span class="line"><span>ans =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.8147    0.9058    0.1270    0.9134    0.6324    0.0975    0.2785    0.5469</span></span>
<span class="line"><span>ans =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.8147    0.9058    0.1270    0.9134    0.6324    0.0975    0.2785    0.5469</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>保存随机数发生器的设置重复产生相同的随机数</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>s=rng;</span></span>
<span class="line"><span>u1=rand(1,6)</span></span>
<span class="line"><span>rng(s);</span></span>
<span class="line"><span>u2=rand(1,6)</span></span>
<span class="line"><span>rng(s);</span></span>
<span class="line"><span>u3=rand(1,6)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>u1 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.9575    0.9649    0.1576    0.9706    0.9572    0.4854</span></span>
<span class="line"><span></span></span>
<span class="line"><span>u2 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.9575    0.9649    0.1576    0.9706    0.9572    0.4854</span></span>
<span class="line"><span></span></span>
<span class="line"><span>u3 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.9575    0.9649    0.1576    0.9706    0.9572    0.4854</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>%第二次</span></span>
<span class="line"><span>u1 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.8003    0.1419    0.4218    0.9157    0.7922    0.9595</span></span>
<span class="line"><span></span></span>
<span class="line"><span>u2 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.8003    0.1419    0.4218    0.9157    0.7922    0.9595</span></span>
<span class="line"><span></span></span>
<span class="line"><span>u3 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.8003    0.1419    0.4218    0.9157    0.7922    0.9595</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="应用实例——模拟投掷硬币" tabindex="-1">应用实例——模拟投掷硬币 <a class="header-anchor" href="#应用实例——模拟投掷硬币" aria-label="Permalink to &quot;应用实例——模拟投掷硬币&quot;">​</a></h2><p><strong>tabulate(X)</strong> 输出列表形式，统计向量X中各元素出现频数及概率</p><p>投掷硬币：正面1，反面0，每次投掷结果就是随机产生0或1.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>r=randi(2,1,1);%产生随机数1或2</span></span>
<span class="line"><span>r1=r-1;%产生随机数0或1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>投掷硬币次数越多，出现正反面的概率越趋于各占1/2.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>r10=randi(2,1,10)-1;</span></span>
<span class="line"><span>r50=randi(2,1,50)-1;</span></span>
<span class="line"><span>r100=randi(2,1,100)-1;</span></span>
<span class="line"><span>r1000=randi(2,1,1000)-1;</span></span>
<span class="line"><span>hist(r10)</span></span>
<span class="line"><span>figure(2)</span></span>
<span class="line"><span>hist(r50)</span></span>
<span class="line"><span>figure(3)</span></span>
<span class="line"><span>hist(r100)</span></span>
<span class="line"><span>figure(4)</span></span>
<span class="line"><span>hist(r1000)</span></span>
<span class="line"><span>p10=tabulate(r10)%投掷10次时，0和1各自出现的次数及概率</span></span>
<span class="line"><span>p50=tabulate(r50)</span></span>
<span class="line"><span>p100=tabulate(r100)</span></span>
<span class="line"><span>p1000=tabulate(r1000)%投掷1000次时，0和1各自出现的次数及概率</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>p10 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     0     2    20</span></span>
<span class="line"><span>     1     8    80</span></span>
<span class="line"><span></span></span>
<span class="line"><span>p50 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     0    30    60</span></span>
<span class="line"><span>     1    20    40</span></span>
<span class="line"><span></span></span>
<span class="line"><span>p100 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     0    49    49</span></span>
<span class="line"><span>     1    51    51</span></span>
<span class="line"><span></span></span>
<span class="line"><span>p1000 =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>         0  485.0000   48.5000</span></span>
<span class="line"><span>    1.0000  515.0000   51.5000</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/randi10.jpg" alt="randi10"></p><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/randi50.jpg" alt="randi50"></p><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/randi100.jpg" alt="randi100"></p><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/randi1000.jpg" alt="randi1000"></p><p><strong>模拟投骰子</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>X=randi(6,1,10000000);</span></span>
<span class="line"><span>tabulate(X)</span></span>
<span class="line"><span>hist(X)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Value    Count   Percent</span></span>
<span class="line"><span>      1    1667302     16.67%</span></span>
<span class="line"><span>      2    1666712     16.67%</span></span>
<span class="line"><span>      3    1666808     16.67%</span></span>
<span class="line"><span>      4    1666082     16.66%</span></span>
<span class="line"><span>      5    1667152     16.67%</span></span>
<span class="line"><span>      6    1665944     16.66%</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/randi6.jpg" alt="randi6"></p><h2 id="蒙特卡洛应用实例" tabindex="-1">蒙特卡洛应用实例 <a class="header-anchor" href="#蒙特卡洛应用实例" aria-label="Permalink to &quot;蒙特卡洛应用实例&quot;">​</a></h2><h3 id="_1-计算圆周率π值" tabindex="-1">1.计算圆周率π值 <a class="header-anchor" href="#_1-计算圆周率π值" aria-label="Permalink to &quot;1.计算圆周率π值&quot;">​</a></h3><p>总体思想：投点计算.</p><p>往边长为1的正方形中随机投点，点落在弧线内部中的概率p是弧线包围的面积与正方形面积之比.</p>`,67),t={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.765ex",height:"3.006ex",role:"img",focusable:"false",viewBox:"0 -983.7 4758.2 1328.7","aria-hidden":"true"},m=n('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mrow" transform="translate(220,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(570,0)"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(562,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mn" transform="translate(586.1,-345) scale(0.707)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" style="stroke-width:3;"></path></g><rect width="1285.8" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(2859.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mfrac" transform="translate(3915.1,0)"><g data-mml-node="mi" transform="translate(220,394) scale(0.707)"><path data-c="1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(244.7,-345) scale(0.707)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" style="stroke-width:3;"></path></g><rect width="603.1" height="60" x="120" y="220"></rect></g></g></g>',1),o=[m],b=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mo",null,"="),s("mfrac",null,[s("mrow",null,[s("mi",null,"π"),s("msup",null,[s("mi",null,"a"),s("mn",null,"2")])]),s("mn",null,"4")]),s("mo",null,"="),s("mfrac",null,[s("mi",null,"π"),s("mn",null,"4")])])],-1),d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.781ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.062ex",height:"2.361ex",role:"img",focusable:"false",viewBox:"0 -698.8 2679.6 1043.8","aria-hidden":"true"},h=n('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(780.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mfrac" transform="translate(1836.6,0)"><g data-mml-node="mi" transform="translate(220,394) scale(0.707)"><path data-c="1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(244.7,-345) scale(0.707)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" style="stroke-width:3;"></path></g><rect width="603.1" height="60" x="120" y="220"></rect></g></g></g>',1),g=[h],Q=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"p"),s("mo",null,"="),s("mfrac",null,[s("mi",null,"π"),s("mn",null,"4")])])],-1),T={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.205ex",height:"1.971ex",role:"img",focusable:"false",viewBox:"0 -677 3184.6 871","aria-hidden":"true"},x=n('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(847.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1903.6,0)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(2403.6,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(2906.6,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" style="stroke-width:3;"></path></g></g></g>',1),k=[x],_=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"π"),s("mo",null,"="),s("mn",null,"4"),s("mi",null,"p"),s("mo",null,".")])],-1),y=n(`<p>用蒙特卡洛模拟统计出p值，就可以计算π.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>function [pi]=MCpi(n)</span></span>
<span class="line"><span>x=rand(n,1);</span></span>
<span class="line"><span>y=rand(n,1);</span></span>
<span class="line"><span>count=0;</span></span>
<span class="line"><span>for i=1:n</span></span>
<span class="line"><span>if (x(i)^2+y(i)^2&lt;=1)</span></span>
<span class="line"><span>count=count+1;</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>plot(x,y,&#39;o&#39;)</span></span>
<span class="line"><span>hold on</span></span>
<span class="line"><span>x0=0:0.01:1;</span></span>
<span class="line"><span>y0=sqrt(1-x0.^2);</span></span>
<span class="line"><span>plot(x0,y0,&#39;r-&#39;);</span></span>
<span class="line"><span>pi=4*count/n %计算pi值</span></span>
<span class="line"><span>end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[pi]=MCpi(1000) %1000个随机点做模拟</span></span>
<span class="line"><span>pi =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    3.1880</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/pi.jpg" alt="pi"></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>function [pi]=MC1pi(n)</span></span>
<span class="line"><span>%另一个程序，感觉慢</span></span>
<span class="line"><span>m=0;</span></span>
<span class="line"><span>for i=1:n</span></span>
<span class="line"><span>x=rand;</span></span>
<span class="line"><span>y=rand;</span></span>
<span class="line"><span>plot(x,y,&#39;o&#39;)</span></span>
<span class="line"><span>hold on</span></span>
<span class="line"><span>x0=0:0.01:1;</span></span>
<span class="line"><span>y0=sqrt(1-x0.^2);</span></span>
<span class="line"><span>plot(x0,y0,&#39;r-&#39;);</span></span>
<span class="line"><span>if (x^2+y^2&lt;=1)</span></span>
<span class="line"><span>m=m+1;</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>pi=4*m/n %计算pi值</span></span>
<span class="line"><span>end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>为了解投点次数对pi计算值的影响，绘制pi计算值随投点次数变化趋势图.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>n=[10:10:1000];</span></span>
<span class="line"><span>t=length(n);</span></span>
<span class="line"><span>pi=zeros(1,t);</span></span>
<span class="line"><span>for i=1:t</span></span>
<span class="line"><span>x=rand(n(i),1);</span></span>
<span class="line"><span>y=rand(n(i),1);</span></span>
<span class="line"><span>m=sum( x.^2+y.^2&lt;=1); %落在圆内的点数</span></span>
<span class="line"><span>pi(i)=4*m/n(i);</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>semilogx(n,pi,&#39;o&#39;)</span></span>
<span class="line"><span>xlabel(&#39;投掷点数&#39;)</span></span>
<span class="line"><span>ylabel(&#39;pi值&#39;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/pitrend.jpg" alt="pitrend"></p><h3 id="_2-计算定积分-投点法" tabindex="-1">2.计算定积分：投点法 <a class="header-anchor" href="#_2-计算定积分-投点法" aria-label="Permalink to &quot;2.计算定积分：投点法&quot;">​</a></h3><p><strong>例</strong>：计算函数</p>`,10),w={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},f={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.925ex",height:"2.782ex",role:"img",focusable:"false",viewBox:"0 -1024.6 5270.7 1229.6","aria-hidden":"true"},C=n('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(767.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(1823.6,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" transform="translate(605,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><rect width="553.6" height="60" x="120" y="220"></rect></g></g></g><g data-mml-node="mo" transform="translate(3261.9,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(4262.1,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g></g></g>',1),H=[C],M=s("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("mi",null,"y"),s("mo",null,"="),s("msup",null,[s("mi",null,"x"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mfrac",null,[s("mn",null,"1"),s("mn",null,"2")])])]),s("mo",null,"−"),s("msup",null,[s("mi",null,"x"),s("mn",null,"2")])])],-1),V=s("p",null,"在[0,1]间的定积分.",-1),L=s("p",null,[s("img",{src:"https://gitee.com/yixin-oss/blogImage/raw/master/img/int..jpg",alt:"int."})],-1),E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.526ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2000.7 1000","aria-hidden":"true"},A=n('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(278,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1222.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(1722.7,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z" style="stroke-width:3;"></path></g></g></g>',1),B=[A],j=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mo",{stretchy:"false"},"["),s("mn",null,"0"),s("mo",null,","),s("mn",null,"1"),s("mo",{stretchy:"false"},"]")])],-1),Z=n(`<div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>function [s] = MCint(n)</span></span>
<span class="line"><span>%利用蒙特卡洛计算定积分</span></span>
<span class="line"><span>m=0;</span></span>
<span class="line"><span>for i=1:n</span></span>
<span class="line"><span>    x=rand;</span></span>
<span class="line"><span>    y=rand;</span></span>
<span class="line"><span>    plot(x,y,&#39;bo&#39;)</span></span>
<span class="line"><span>    hold on</span></span>
<span class="line"><span>    x0=0:0.01:1;</span></span>
<span class="line"><span>    y0=sqrt(x0);</span></span>
<span class="line"><span>    y1=x0.^2;</span></span>
<span class="line"><span>    plot(x0,y0,&#39;r-&#39;,x0,y1,&#39;g-&#39;);</span></span>
<span class="line"><span>    if (sqrt(x)&gt;y &amp;&amp; y&gt;x^2)</span></span>
<span class="line"><span>        m=m+1;</span></span>
<span class="line"><span>    end</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>s=m/n;</span></span>
<span class="line"><span>end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[s] = MCint(1000)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>s =</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0.3400</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/MCint.jpg" alt="MCint"></p><p>绘制积分值随投点次数的变化趋势图.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>n=10:10:10000;</span></span>
<span class="line"><span>t=length(n);</span></span>
<span class="line"><span>s=zeros(t);</span></span>
<span class="line"><span>for i=1:length(n)</span></span>
<span class="line"><span>x=rand(n(i),1);</span></span>
<span class="line"><span>y=rand(n(i),1);</span></span>
<span class="line"><span>m=sum( sqrt(x)&gt;=y &amp; y&gt;x.^2);</span></span>
<span class="line"><span>s(i)=m/n(i);</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>semilogx(n,s,&#39;o&#39;);</span></span>
<span class="line"><span>xlabel(&#39;投点次数&#39;);</span></span>
<span class="line"><span>ylabel(&#39;积分值&#39;);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/MCinttrend.jpg" alt="MCinttrend"></p><h3 id="_3-模拟布朗运动" tabindex="-1">3.模拟布朗运动 <a class="header-anchor" href="#_3-模拟布朗运动" aria-label="Permalink to &quot;3.模拟布朗运动&quot;">​</a></h3><p>模拟微粒的布朗运动.</p><h4 id="_1-模拟二维布朗运动" tabindex="-1">1.模拟二维布朗运动 <a class="header-anchor" href="#_1-模拟二维布朗运动" aria-label="Permalink to &quot;1.模拟二维布朗运动&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>n=500;</span></span>
<span class="line"><span>a=randn(1,n);</span></span>
<span class="line"><span>b=randn(1,n);</span></span>
<span class="line"><span>x(1)=0;</span></span>
<span class="line"><span>y(1)=0;</span></span>
<span class="line"><span>for k=1:n</span></span>
<span class="line"><span>x(k+1)=x(k)+a(k);</span></span>
<span class="line"><span>y(k+1)=y(k)+b(k);</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>plot(x,y)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E5%B8%83%E6%9C%97%E8%BF%90%E5%8A%A8.jpg" alt="布朗运动"></p><h4 id="_2-三维布朗运动" tabindex="-1">2.三维布朗运动 <a class="header-anchor" href="#_2-三维布朗运动" aria-label="Permalink to &quot;2.三维布朗运动&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>n=500;</span></span>
<span class="line"><span>a=randn(1,n);</span></span>
<span class="line"><span>b=randn(1,n);</span></span>
<span class="line"><span>c=randn(1,n);</span></span>
<span class="line"><span>x(1)=0;</span></span>
<span class="line"><span>y(1)=0;</span></span>
<span class="line"><span>z(1)=0;</span></span>
<span class="line"><span>for k=1:n</span></span>
<span class="line"><span>x(k+1)=x(k)+a(k);</span></span>
<span class="line"><span>y(k+1)=y(k)+b(k);</span></span>
<span class="line"><span>z(k+1)=z(k)+c(k);</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>plot(x,y,z)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/3%E5%B8%83%E6%9C%97%E8%BF%90%E5%8A%A8.jpg" alt="3布朗运动"></p><h3 id="_4-物体表面形貌近似" tabindex="-1">4.物体表面形貌近似 <a class="header-anchor" href="#_4-物体表面形貌近似" aria-label="Permalink to &quot;4.物体表面形貌近似&quot;">​</a></h3><p>可以利用蒙特卡洛模拟表面的微观形貌，基本思路是随机投点，统计各位置落下点的数量，数量与直径或厚度之积就是各位置高度.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>x=1:30; %横坐标范围</span></span>
<span class="line"><span>y=1:30; %纵坐标范围</span></span>
<span class="line"><span>z=rand(30); %不同位置厚度</span></span>
<span class="line"><span>mesh(x,y,z)  %表面网线图</span></span>
<span class="line"><span>figure(2)</span></span>
<span class="line"><span>meshz(x,y,z)  %幕帘网线图</span></span>
<span class="line"><span>colormap([0 0 1])</span></span>
<span class="line"><span>figure(3)</span></span>
<span class="line"><span>surf(x,y,z)  %曲面图</span></span>
<span class="line"><span>colormap([0 0 1])</span></span>
<span class="line"><span>axis(&#39;equal&#39;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E8%A1%A8%E9%9D%A2%E7%BD%91%E7%BA%BF.jpg" alt=""></p><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E5%B9%95%E5%B8%98%E7%BD%91%E7%BA%BF.jpg" alt=""></p><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E6%9B%B2%E9%9D%A2.jpg" alt=""></p><p><strong>编写其他程序实现</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>%产生1~900共900个随机数；900表示位置，30*30；产生10次，代表喷涂了10层颗粒</span></span>
<span class="line"><span>a=randi(900,1,900*10);</span></span>
<span class="line"><span>n=tabulate(a);</span></span>
<span class="line"><span>n1=n(:,2)*0.01; %表示各位置厚度</span></span>
<span class="line"><span>x=1:30;</span></span>
<span class="line"><span>y=1:30;</span></span>
<span class="line"><span>z=zeros(30,30);</span></span>
<span class="line"><span>for i=1:30</span></span>
<span class="line"><span>z(i,:)=n1((i*30-29):i*30,1)&#39;;</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>mesh(x,y,z)</span></span>
<span class="line"><span>figure(2)</span></span>
<span class="line"><span>meshz(x,y,z)</span></span>
<span class="line"><span>colormap([0 0 1])</span></span>
<span class="line"><span>figure(3)</span></span>
<span class="line"><span>surf(x,y,z)</span></span>
<span class="line"><span>colormap([0 0 1])</span></span>
<span class="line"><span>axis(&#39;equal&#39;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E7%BD%91%E7%BA%BF2.jpg" alt=""></p><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E5%B9%95%E5%B8%982.jpg" alt=""></p><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E6%9B%B2%E9%9D%A22.jpg" alt=""></p><h3 id="_5-材料成分设计与质量控制" tabindex="-1">5.材料成分设计与质量控制 <a class="header-anchor" href="#_5-材料成分设计与质量控制" aria-label="Permalink to &quot;5.材料成分设计与质量控制&quot;">​</a></h3><p>制备新材料时，材料的每种成分的实际含量会与目标含量产生一定的误差，对材料性能会产生影响. 利用蒙特卡洛对材料制备进行模拟，预测最终性能；反过来通过成分设计对质量进行控制.</p><p><strong>例</strong>：Ms是材料的一个性能指标，与材料化学成分有关. 用蒙特卡洛方法对材料的成分设计进行模拟，预测Ms点.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sigma=0.01; %成分的误差</span></span>
<span class="line"><span>n=100; %模拟次数</span></span>
<span class="line"><span>C=normrnd(0.3,sigma,1,n);</span></span>
<span class="line"><span>Mn=normrnd(1.2,sigma,1,n);</span></span>
<span class="line"><span>Cr=normrnd(0.3,sigma,1,n);</span></span>
<span class="line"><span>Ni=normrnd(0.2,sigma,1,n);</span></span>
<span class="line"><span>Mo=normrnd(0.1,sigma,1,n);</span></span>
<span class="line"><span>Si=normrnd(0.4,sigma,1,n);</span></span>
<span class="line"><span>Ms=520-321*C-50*Mn-30*Cr-20*Ni-20*Mo-5*Si; %根据元素含量计算Ms点</span></span>
<span class="line"><span>plot(Ms,&#39;o&#39;)</span></span>
<span class="line"><span>xlabel(&#39;模拟次数&#39;)</span></span>
<span class="line"><span>ylabel(&#39;Ms值&#39;)</span></span>
<span class="line"><span>figure(2)</span></span>
<span class="line"><span>edgs=[0 350 500] %按Ms的值对制备材料进行分组</span></span>
<span class="line"><span>[n bin]=histc(Ms,edgs); %统计每组的数量 bin是第几组</span></span>
<span class="line"><span>bar(edgs,n,&#39;histc&#39;)  %绘制条形图</span></span>
<span class="line"><span>xlabel(&#39;Ms值范围&#39;)</span></span>
<span class="line"><span>ylabel(&#39;每组的数量&#39;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/Ms%E7%82%B9%E5%88%86%E5%B8%83.jpg" alt=""></p><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E6%AF%8F%E7%BB%84%E6%95%B0%E9%87%8F.jpg" alt="每组数量"></p><p>为了了解误差对性能稳定性的影响，绘制性能随误差控制值的变化趋势图.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Sigma=[0.5 0.2 0.1 0.05 0.02];</span></span>
<span class="line"><span>n=10000;</span></span>
<span class="line"><span>Ms=zeros(5,n);</span></span>
<span class="line"><span>for i=1:5</span></span>
<span class="line"><span>sigma=Sigma(i);</span></span>
<span class="line"><span>C=normrnd(0.3,sigma,1,n);</span></span>
<span class="line"><span>Mn=normrnd(1.2,sigma,1,n);</span></span>
<span class="line"><span>Cr=normrnd(0.3,sigma,1,n);</span></span>
<span class="line"><span>Ni=normrnd(0.2,sigma,1,n);</span></span>
<span class="line"><span>Mo=normrnd(0.1,sigma,1,n);</span></span>
<span class="line"><span>Si=normrnd(0.4,sigma,1,n);</span></span>
<span class="line"><span>Ms(i,:)=520-321*C-50*Mn-30*Cr-20*Ni-20*Mo-5*Si; %根据元素含量计算Ms点</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>x1=1:10000;</span></span>
<span class="line"><span>plot(x1,Ms(1,:),&#39;*&#39;)</span></span>
<span class="line"><span>hold on</span></span>
<span class="line"><span>x2=10001:20000;</span></span>
<span class="line"><span>plot(x2,Ms(2,:),&#39;o&#39;)</span></span>
<span class="line"><span>hold on</span></span>
<span class="line"><span>x3=20001:30000;</span></span>
<span class="line"><span>plot(x3,Ms(3,:),&#39;+&#39;)</span></span>
<span class="line"><span>hold on</span></span>
<span class="line"><span>x4=30001:40000;</span></span>
<span class="line"><span>plot(x4,Ms(4,:),&#39;-&#39;)</span></span>
<span class="line"><span>hold on</span></span>
<span class="line"><span>x5=40001:50000;</span></span>
<span class="line"><span>plot(x5,Ms(5,:),&#39;^&#39;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E6%80%A7%E8%83%BD%E5%8F%98%E5%8C%96%E8%B6%8B%E5%8A%BF.jpg" alt=""></p><h3 id="_6-模拟股票价格" tabindex="-1">6.模拟股票价格 <a class="header-anchor" href="#_6-模拟股票价格" aria-label="Permalink to &quot;6.模拟股票价格&quot;">​</a></h3><p>用蒙特卡洛模拟股票价格变化情况.</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>p(1)=5; %原始股价</span></span>
<span class="line"><span>s=500; %模拟天数</span></span>
<span class="line"><span>a=randn(1,s); %股票变化</span></span>
<span class="line"><span>for k=1:s</span></span>
<span class="line"><span>p(k+1)=p(k)+a(k); %每天的股价</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span>plot(p)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/%E8%82%A1%E4%BB%B7.jpg" alt=""></p><p><strong>另一个程序</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>p0=20; %原始股价</span></span>
<span class="line"><span>s=100; %模拟天数</span></span>
<span class="line"><span>t=1;  %模拟次数，股票变化可能性</span></span>
<span class="line"><span>a=randn(s,t);</span></span>
<span class="line"><span>tend=cumsum([p0*ones(1,t) a]); %最新股价</span></span>
<span class="line"><span>plot(tend)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/t=1.jpg" alt=""></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>p0=20; %原始股价</span></span>
<span class="line"><span>s=100; %模拟天数</span></span>
<span class="line"><span>t=100;  %模拟次数，股票变化可能性</span></span>
<span class="line"><span>a=randn(s,t);</span></span>
<span class="line"><span>tend=cumsum([p0*ones(1,t) a]); %最新股价</span></span>
<span class="line"><span>plot(tend)</span></span>
<span class="line"><span>%100种可能性</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://gitee.com/yixin-oss/blogImage/raw/master/img/t=100.jpg" alt=""></p>`,43);function I(P,S,D,z,N,R){return a(),p("div",null,[r,s("p",null,[e("弧线包围面积"),s("mjx-container",t,[(a(),p("svg",c,o)),b])]),s("p",null,[e("概率"),s("mjx-container",d,[(a(),p("svg",u,g)),Q])]),s("p",null,[s("mjx-container",T,[(a(),p("svg",v,k)),_])]),y,s("mjx-container",w,[(a(),p("svg",f,H)),M]),V,L,s("p",null,[e("在"),s("mjx-container",E,[(a(),p("svg",q,B)),j]),e("定积分实质是两个函数围成的面积.")]),Z])}const X=l(i,[["render",I]]);export{J as __pageData,X as default};
